function displaySize(e){var b = ["TB", "GB", "MB", "KB", "b"]; var c = 1000; var f, h; for (var d = 0; d < b.length; d++){var g = b[d]; var a = Math.pow(c, 4 - d) / 10; if (e >= a){f = e / Math.pow(c, 4 - d); h = g; break}}f = Math.round(10 * f) / 10; return"<strong>" + f + h + "</strong> "}var r = new Resumable({target:"upload/chunk", chunkSize:1 * 1024 * 1024, simultaneousUploads:4}); $(document).ready(function(){var b = $(".resumable-drop"); var a = $(".resumable-browse"); if (!r.support){$(".resumable-error").show()} else{r.assignBrowse(a); r.assignDrop(b); r.on("filesAdded", function(g){var c = []; for (var f = 0; f < g.length; f++){var e = g[f]; var d = e.lastModifiedDate?e.lastModifiedDate.toLocaleDateString():"n/a"; var h = "<tr><td>" + e.fileName + "</td><td>" + displaySize(e.size) + "</td><td>" + d + '</td><td class="md5-' + e.uniqueIdentifier + '"></td></tr>'; c.push(h)}$(".resumable-progress, .resumable-list").show(); $(".resumable-progress .progress-resume-link").hide(); $(".resumable-progress .progress-pause-link").show(); $(".resumable-progress .progress-cancel-link").show(); $(".file-info > tbody:last").append(c.join("")); r.upload()}); r.on("cancel", function(){$(".resumable-progress .progress-pause-link").hide(); $(".resumable-progress .progress-resume-link").hide()}); r.on("pause", function(){$(".resumable-progress .progress-pause-link").hide(); $(".resumable-progress .progress-resume-link").show()}); r.on("progress", function(){$(".resumable-progress .progress-resume-link").hide(); $(".resumable-progress .progress-pause-link").show()}); r.on("complete", function(){$(".progress-bar").html("(completed)"); $(".resumable-progress .progress-resume-link, .resumable-progress .progress-pause-link, .resumable-progress .progress-cancel-link").hide()}); r.on("fileSuccess", function(c, d){$(".md5-" + c.uniqueIdentifier).html(d)}); r.on("fileError", function(c, d){$(".resumable-file-" + c.uniqueIdentifier + " .resumable-file-progress").html("(file could not be uploaded: " + d + ")")}); r.on("fileProgress", function(c){$(".progress-bar").html(Math.floor(r.progress() * 100) + "%"); $(".progress-bar").css({width:Math.floor(r.progress() * 100) + "%"})})}}); $("#dataExample").on("show.bs.modal", function(d){var c = $(d.relatedTarget); var e = c.data("title"); var a = c.data("type"); var b = $(this); b.find(".modal-title").text(e + " Dataset"); b.find("#dataExampleFrame").attr("src", "upload/example?type=" + a)});