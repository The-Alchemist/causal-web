<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <title>Causal Web: GFCI</title>
        <meta name="description" content="causal" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="apple-touch-icon" href="../../static/apple-touch-icon.png" th:href="@{/apple-touch-icon.png}" />
        <link rel="icon" href="../../static/favicon.ico" th:href="@{/favicon.ico}" />
        <link rel="stylesheet" href="../../static/vendors/bootstrap/css/bootstrap.min.css" th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css}" />
        <link rel="stylesheet" href="../../static/vendors/bootstrap/css/bootstrap-theme.min.css" th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css}" />
        <link rel="stylesheet" href="../../static/vendors/font-awesome/css/font-awesome.min.css" th:href="@{https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css}"/>
        <link rel="stylesheet" href="../../static/vendors/sb-admin-2/css/sb-admin-2.min.css" th:href="@{/vendors/sb-admin-2/css/sb-admin-2.min.css}" />
        <link rel="stylesheet" href="../../static/css/styles.min.css" th:href="@{/css/styles.min.css}" />
        <link rel="stylesheet" href="../../static/css/algo/stepwizard.min.css" th:href="@{/css/algo/stepwizard.min.css}" />
        <link rel="stylesheet" href="../../static/css/collapse-panel.min.css" th:href="@{/css/collapse-panel.min.css}" />
        <script src="../../static/vendors/jquery/jquery.min.js" th:src="@{https://code.jquery.com/jquery-2.2.4.min.js}"></script>
        <script src="../../static/vendors/bootstrap/js/bootstrap.min.js" th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js}"></script>
        <script src="../../static/vendors/sb-admin-2/js/sb-admin-2.min.js" th:src="@{/vendors/sb-admin-2/js/sb-admin-2.min.js}"></script>
        <script src="../../static/vendors/metisMenu/metisMenu.min.js" th:src="@{/vendors/metisMenu/metisMenu.min.js}"></script>
        <script src="../../static/js/algo/stepwizard.min.js" th:src="@{/js/algo/stepwizard.min.js}"></script>
    </head>
    <body data-ng-app="">
        <div id="wrapper">
            <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0" th:replace="fragments/navigation :: nav"></nav>
            <div id="page-wrapper">
                <div class="row">
                    <div class="col-lg-12">
                        <h3 class="page-header" th:text="${title}">GFCI Continuous</h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <ul class="breadcrumb">
                            <li><a href="#" th:href="@{/secured/home}">Home</a></li>
                            <li><a href="#" th:href="@{/secured/algorithm/causal-discover}">Causal Discovery</a></li>
                            <li class="active" th:text="${title}">Current Page</li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="stepwizard">
                            <div class="stepwizard-row setup-panel">
                                <div class="stepwizard-step">
                                    <button id="step1btn" class="btn btn-primary btn-circle" onclick="window.location.href = '#step1'">1</button>
                                    <p>Select Dataset</p>
                                </div>
                                <div class="stepwizard-step">
                                    <button id="step2btn" class="btn btn-default btn-circle" onclick="window.location.href = '#step2'" disabled="disabled">2</button>
                                    <p>Set Parameters</p>
                                </div>
                                <div class="stepwizard-step">
                                    <button id="step3btn" class="btn btn-default btn-circle" onclick="window.location.href = '#step3'" disabled="disabled">3</button>
                                    <p>Run Algorithm</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <form id="agorithmJobForm" method="post" action="" role="form" th:object="${tetradJobForm}">
                            <div class="row setup-content" id="step1">
                                <div class="col-xs-12">
                                    <div class="col-md-12">
                                        <h3>Step 1: Select Dataset</h3>
                                        <div class="panel panel-primary">
                                            <div class="panel-heading">
                                                <h3 class="panel-title">Dataset</h3>
                                            </div>
                                            <div class="panel-body">
                                                <div class="form-group">
                                                    <label for="dataset">Dataset: Data must be summarized before appearing here. Only continuous data is analyzable by this algorithm.</label>
                                                    <select id="dataset" name="dataset" class="form-control" data-ng-model="dataset" required="required"
                                                            th:field="*{dataset}"
                                                            th:attr="data-ng-init='dataset = \'' + *{dataset} + '\''"
                                                            th:disabled="${#lists.isEmpty(datasetOpts)}">
                                                        <option value=""
                                                                th:each="datasetOpt : ${datasetOpts}"
                                                                th:value="${datasetOpt.title}"
                                                                th:text="${datasetOpt.title}"
                                                                th:disabled="${#lists.isEmpty(datasetOpts)}">sim_data_100vars_100_cases.txt (75.48 kB)</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="panel-footer">
                                                <div class="form-group">
                                                    <div class="checkbox">
                                                        <label for="ensureUniqueVarName" class="control-label">
                                                            <input type="checkbox" id="ensureUniqueVarName" name="ensureUniqueVarName" data-ng-model="ensureUniqueVarName" th:attr="data-ng-init='ensureUniqueVarName=' + *{ensureUniqueVarName}" th:field="*{ensureUniqueVarName}" /> Ensures unique variable name.
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="checkbox">
                                                        <label for="ensureNonZeroVariance" class="control-label">
                                                            <input type="checkbox" id="ensureNonZeroVariance" name="ensureNonZeroVariance" data-ng-model="ensureNonZeroVariance" th:attr="data-ng-init='ensureNonZeroVariance=' + *{ensureNonZeroVariance}" th:field="*{ensureNonZeroVariance}" /> Ensures non-zero variance.
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel panel-primary">
                                            <div class="panel-heading">
                                                <h3 class="panel-title">Knowledge</h3>
                                            </div>
                                            <div class="panel-body">
                                                <div class="form-group">
                                                    <label for="knowledge">Knowledge File:</label>
                                                    <select id="knowledge" name="knowledge" class="form-control" data-ng-model="knowledge"
                                                            th:field="*{knowledge}"
                                                            th:attr="data-ng-init='knowledge = \'' + *{knowledge} + '\''">
                                                        <option value=""
                                                                th:each="knowledgeOpt : ${knowledgeOpts}"
                                                                th:value="${knowledgeOpt.title}"
                                                                th:text="${knowledgeOpt.title}">sim_data_100vars_100_cases.prior (75.48 kB)</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <button type="button" class="btn btn-primary btn-lg btn-block nextBtn">Next</button>
                                    </div>
                                </div>
                            </div>
                            <div class="row setup-content" id="step2">
                                <div class="col-xs-12">
                                    <div class="col-md-12">
                                        <h3> Step 2: Set Parameters</h3>
                                        <div class="panel panel-primary">
                                            <div class="panel-heading">
                                                <h3 class="panel-title">Parameter</h3>
                                            </div>
                                            <div class="panel-body">
                                                <div class="form-group">
                                                    <label for="alpha" class="control-label" th:text="${@params.get('alpha')}">Alpha:</label>
                                                    <input type="number" id="alpha" name="alpha" min="0" max="1" class="form-control" data-ng-model="alpha" th:attr="data-ng-init='alpha=' + *{alpha}" th:field="*{alpha}" required="required" />
                                                </div>
                                                <div class="form-group">
                                                    <label for="penaltyDiscount" class="control-label" th:text="${@params.get('penaltyDiscount')}">Penalty Discount:</label>
                                                    <input type="number" id="penaltyDiscount" name="penaltyDiscount" min="0" class="form-control" data-ng-model="penaltyDiscount" th:attr="data-ng-init='penaltyDiscount=' + *{penaltyDiscount}" th:field="*{penaltyDiscount}" required="required" />
                                                </div>
                                                <div class="form-group">
                                                    <label for="maxPathLength" class="control-label" th:text="${@params.get('maxPathLength')}">Maximum Path Length:</label>
                                                    <input type="number" id="maxPathLength" name="maxPathLength" min="-1" class="form-control" data-ng-model="maxPathLength" th:attr="data-ng-init='maxPathLength=' + *{maxPathLength}" th:field="*{maxPathLength}" required="required" />
                                                </div>
                                                <div class="form-group">
                                                    <label for="maxDegree" class="control-label" th:text="${@params.get('maxDegree')}">Maximum Degree:</label>
                                                    <input type="number" id="maxDegree" name="maxDegree" min="-1" class="form-control" data-ng-model="maxDegree" th:attr="data-ng-init='maxDegree=' + *{maxDegree}" th:field="*{maxDegree}" required="required" />
                                                </div>
                                                <div class="form-group">
                                                    <div class="checkbox">
                                                        <label for="completeRuleSetUsed" class="control-label">
                                                            <input type="checkbox" id="completeRuleSetUsed" name="completeRuleSetUsed" data-ng-model="completeRuleSetUsed" th:attr="data-ng-init='completeRuleSetUsed=' + *{completeRuleSetUsed}" th:field="*{completeRuleSetUsed}" /> <span th:text="${@params.get('completeRuleSetUsed')}">Complete Rule Set Used:</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="checkbox">
                                                        <label for="faithfulnessAssumed" class="control-label">
                                                            <input type="checkbox" id="faithfulnessAssumed" name="faithfulnessAssumed" data-ng-model="faithfulnessAssumed" th:attr="data-ng-init='faithfulnessAssumed=' + *{faithfulnessAssumed}" th:field="*{faithfulnessAssumed}" /> <span th:text="${@params.get('faithfulnessAssumed')}">Faithfulness Assumed:</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="checkbox">
                                                        <label for="verbose" class="control-label">
                                                            <input type="checkbox" id="verbose" name="verbose" data-ng-model="verbose" th:attr="data-ng-init='verbose=' + *{verbose}" th:field="*{verbose}" /> <span th:text="${@params.get('verbose')}">Verbose:</span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel panel-primary">
                                            <a class="panel-primary collapsed" data-toggle="collapse" href="#jvmStackOpt">
                                                <div class="panel-heading">
                                                    <h3 class="panel-title chevon">Advanced Options For Java Virtual Machine (JVM)</h3>
                                                </div>
                                            </a>
                                            <div id="jvmStackOpt" class="panel-collapse collapse">
                                                <div class="panel-body">
                                                    <div class="form-group">
                                                        <label for="jvmMaxMem" class="control-label">JVM Heap Size:</label>
                                                        <div class="input-group">
                                                            <input type="number" min="0" max="128" class="form-control" id="jvmMaxMem" name="jvmMaxMem" aria-describedby="mem_unit" data-ng-model="jvmMaxMem" th:attr="data-ng-init='jvmMaxMem=' + *{jvmMaxMem}" th:field="*{jvmMaxMem}" required="required" />
                                                            <span class="input-group-addon" id="mem_unit">Gigabyte</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <button type="button" class="btn btn-primary btn-lg btn-block nextBtn">Next</button>
                                    </div>
                                </div>
                            </div>
                            <div class="row setup-content" id="step3">
                                <div class="col-xs-12">
                                    <div class="col-md-12">
                                        <h3> Step 3: Run Algorithm</h3>
                                        <div class="panel panel-primary">
                                            <div class="panel-heading">
                                                <h3 class="panel-title">Summary</h3>
                                            </div>
                                            <div class="panel-body">
                                                <div class="table-responsive">
                                                    <table class="table table-striped table-condensed">
                                                        <tbody>
                                                            <tr>
                                                                <td>Dataset:</td>
                                                                <td data-ng-bind="(dataset == null) ? 'none' : dataset"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Ensure Unique Variable Name:</td>
                                                                <td data-ng-bind="ensureUniqueVarName ? 'yes' : 'no'"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Ensure Non-zero Variance:</td>
                                                                <td data-ng-bind="ensureNonZeroVariance ? 'yes' : 'no'"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Knowledge:</td>
                                                                <td data-ng-bind="(knowledge == null) ? 'none' : knowledge"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Alpha:</td>
                                                                <td data-ng-bind="alpha"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Penalty Discount:</td>
                                                                <td data-ng-bind="penaltyDiscount"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Max Path Length:</td>
                                                                <td data-ng-bind="maxPathLength"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Max Degree:</td>
                                                                <td data-ng-bind="maxDegree"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Complete Rule Set Used</td>
                                                                <td data-ng-bind="completeRuleSetUsed ? 'yes' : 'no'"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Faithfulness Assumed:</td>
                                                                <td data-ng-bind="faithfulnessAssumed ? 'yes' : 'no'"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Verbose:</td>
                                                                <td data-ng-bind="verbose ? 'yes' : 'no'"></td>
                                                            </tr>
                                                            <tr>
                                                                <td>Advanced JVM Options:</td>
                                                                <td data-ng-bind="(jvmMaxMem == 0) ? 'JVM default' : '-Xmx' + jvmMaxMem + 'G'"></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <button type="submit" class="btn btn-success btn-lg btn-block nextBtn">Run Algorithm!</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <footer th:replace="fragments/footer :: footer">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="page-header"></div>
                            <p class="text-muted">Copyright &copy; 1900 University of Pittsburgh Department of Biomedical Informatics</p>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
        <script src="../../static/vendors/angularjs/angular.min.js" th:src="@{https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js}"></script>
        <script src="../../static/vendors/jquery-validation/jquery.validate.min.js" th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.16.0/jquery.validate.min.js}"></script>
        <script src="../../static/js/validation/custom.min.js" th:src="@{/js/validation/custom.min.js}"></script>
        <script src="../../static/js/algo/gfcicValid.min.js" th:src="@{/js/algo/gfcicValid.min.js}"></script>
    </body>
</html>
